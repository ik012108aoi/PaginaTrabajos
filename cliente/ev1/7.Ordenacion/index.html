<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Documento sin título</title>
</head>
<style>
		table {
			border-collapse: collapse;
			text-align:center;
			margin-left: 10%;
			
		}
		
		table, tr, td {
			border: 2px solid #666;
			padding: 10px;
		}
</style>
<script src="http://88.2.227.247/funciones.js"></script>

<body>
<script>
var N=3;
var MiTabla=CrearTabla(N);
var bBloqueado=false;
//Buscamos la posición del 0 (f0,c0)
for (i = 0; i < N; i++){
	for (j = 0; j < N; j++){
		if (MiTabla[i][j] == 0) {
			f0 = i;
			c0 = j;
		}
	}
}


document.write("<table>");
for (f=0;f<N;f++){
	document.write("<tr>");
	for (c=0;c<N;c++){
		document.write("<td><img src='Numeros149/n"+MiTabla[f][c]+".gif' id='imBola"+f,c+"' onClick='Cambiar("+f+","+ c+ ")'></td>");
	}
	document.write("<tr>");
}
document.write("</table>");

function Cambiar(f,c){
	if (f == f0 && c + 1 == c0 || f == f0 && c - 1 == c0 || f  + 1 == f0 && c== c0 ||  f - 1 == f0 && c== c0 ){
		z=1;
		bTerminado = false;
		
		if(!bBloqueado){
			for(i=0;i<N;i++){
				for(j=0;j<N;j++){
					//alert("tabla "+MiTabla[i][j]+ "z "+ z);
					if(MiTabla[i][j]==z){
						z++;
					}else{
						j=N;
						i=N;
					}
				}//END FOR J
			}//END FOR I			
		}//END IF BLOQUEADO
		
		if(z==(N*N)){
			alert("El juego esta terminado");
			bBloqueado=true;
		}
		
		if(!bBloqueado){		
			Intercambiar(MiTabla, f, c, f0, c0);
			aux=document.getElementById("imBola"+f+""+c).src;
			document.getElementById("imBola"+f+""+c).src=document.getElementById("imBola"+f0+""+c0).src;
			document.getElementById("imBola"+f0+""+c0).src=aux;
			f0=f;
			c0=c;
		}
	}
}

</script>
</body>
</html>